{"version":3,"sources":["components/form-components/Input.js","components/GraphQL.js","components/OneMovieGraphQL.js","components/MoviesFunc.js","components/GenresFunc.js","components/OneMovieFunc.js","components/OneGenreFunc.js","components/form-components/Select.js","components/form-components/TextArea.js","components/ui-components/Alert.js","components/EditMovieFunc.js","components/AdminFunc.js","images/nice_photo.jpeg","components/HomeFunc.js","components/LoginFunc.js","AppFunc.js","index.js"],"names":["Input","props","className","htmlFor","name","title","type","id","value","onChange","handleChange","placeholder","errorDiv","errorMsg","GraphQL","evt","target","setState","prevState","searchTerm","length","performSearch","movies","state","isLoaded","error","alert","message","bind","payload","this","myHeaders","Headers","append","requestOptions","method","body","headers","fetch","process","then","response","json","data","Object","values","search","theList","list","map","m","to","year","runtime","description","slice","Component","OneMovieGraphQL","movie","match","params","genres","poster","src","alt","mpaa_rating","index","MoviesFunc","useState","setMovies","setError","useEffect","status","GenresFunc","setGenres","pathname","genreName","genre_name","OneMovieFunc","setMovie","OneGenreFunc","setGenreName","location","Select","options","option","label","TextArea","rows","Alert","alertType","role","alertMessage","EditMovieFunc","errors","setErrors","setAlert","jwt","releaseDate","Date","release_date","toISOString","split","history","push","hasError","key","indexOf","onSubmit","preventDefault","FormData","fromEntries","entries","JSON","stringify","rating","href","onClick","confirmAlert","buttons","AdminFunc","HomeFunc","Ticket","LoginFunc","email","setEmail","password","setPassword","handleJWTChange","window","localStorage","setItem","AppFunc","loginLink","setJWT","t","getItem","parse","removeItem","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4c723ace.chunk.js","sourcesContent":["const Input = (props) => {\n  return (\n    <div className=\"mb-3\">\n      <label htmlFor={props.name} className=\"form-label\">\n        {props.title}\n      </label>\n      <input\n        type={props.type}\n        className={`form-control ${props.className}`}\n        id={props.name}\n        name={props.name}\n        value={props.value}\n        onChange={props.handleChange}\n        placeholder={props.placeholder}\n      />\n      <div className={props.errorDiv}>{props.errorMsg}</div>\n    </div>\n  );\n};\n\nexport default Input;","import React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Input from \"./form-components/Input\";\n\nexport default class GraphQL extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      isLoaded: false,\n      error: null,\n      alert: {\n        type: \"d-none\",\n        message: \"\",\n      },\n      searchTerm: \"\",\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange = (evt) => {\n    let value = evt.target.value;\n\n    this.setState((prevState) => ({\n      searchTerm: value,\n    }));\n\n    if (value.length > 2) {\n      this.performSearch();\n    } else {\n      this.setState({ movies: [] });\n    }\n  };\n\n  performSearch() {\n    const payload = `\n        {\n            search(titleContains: \"${this.state.searchTerm}\") {\n                id\n                title\n                runtime\n                year\n                description\n            }\n        }\n        `;\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n      method: \"POST\",\n      body: payload,\n      headers: myHeaders,\n    };\n\n    fetch(`${process.env.REACT_APP_API_URL}/graphql`, requestOptions)\n      .then((response) => response.json())\n      .then((data) => {\n        // console.log(data);\n        let theList = Object.values(data.data.search);\n        return theList;\n      })\n      .then((theList) => {\n        // console.log(theList);\n        if (theList.length > 0) {\n          this.setState({\n            movies: theList,\n          });\n        } else {\n          this.setState({\n            movies: [],\n          });\n        }\n      });\n  }\n\n  componentDidMount() {\n    const payload = `\n        {\n            list {\n                id\n                title\n                runtime\n                year\n                description\n            }\n        }\n        `;\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n      method: \"POST\",\n      body: payload,\n      headers: myHeaders,\n    };\n\n    fetch(`${process.env.REACT_APP_API_URL}/graphql`, requestOptions)\n      .then((response) => response.json())\n      .then((data) => {\n        // console.log(data);\n        let theList = Object.values(data.data.list);\n        return theList;\n      })\n      .then((theList) => {\n        // console.log(theList);\n        this.setState({\n          movies: theList,\n        });\n      });\n  }\n\n  render() {\n    let { movies } = this.state;\n    return (\n      <Fragment>\n        <h2>GraphQL</h2>\n        <hr />\n\n        <Input\n          title={\"Search\"}\n          type={\"text\"}\n          name={\"search\"}\n          value={this.state.searchTerm}\n          handleChange={this.handleChange}\n        />\n\n        <div className=\"list-group\">\n          {movies.map((m) => (\n            <Link\n              key={m.id}\n              className=\"list-group-item list-group-item-action\"\n              to={`/moviesgraphql/${m.id}`}\n            >\n              <strong>{m.title}</strong>\n              <br />\n              <small className=\"text-muted\">\n                ({m.year}) - {m.runtime} minutes\n              </small>\n              <br />\n              {m.description.slice(0, 100)}...\n            </Link>\n          ))}\n        </div>\n      </Fragment>\n    );\n  }\n}\n","import React, { Component, Fragment } from \"react\";\n\nexport default class OneMovieGraphQL extends Component {\n  state = { movie: {}, isLoaded: false, error: null };\n\n  componentDidMount() {\n    const payload = `\n    {\n        movie(id: ${this.props.match.params.id}) {\n            id\n            title\n            runtime\n            year\n            description\n            release_date\n            rating\n            mpaa_rating\n            poster\n        }\n    }\n    `;\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n      method: \"POST\",\n      body: payload,\n      headers: myHeaders,\n    };\n\n    fetch(`${process.env.REACT_APP_API_URL}/graphql`, requestOptions)\n      .then((response) => response.json())\n      .then((data) => {\n        this.setState({\n          movie: data.data.movie,\n          isLoaded: true,\n        });\n      });\n  }\n\n  render() {\n    const { movie, isLoaded, error } = this.state;\n    if (movie.genres) {\n      movie.genres = Object.values(movie.genres);\n    } else {\n      movie.genres = [];\n    }\n\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <p>Loading...</p>;\n    } else {\n      return (\n        <Fragment>\n          <h2>\n            Movie: {movie.title} ({movie.year}) \n          </h2>\n\n          {movie.poster !== \"\" && (\n              <div>\n                  <img src={`https://image.tmdb.org/t/p/w200${movie.poster}`} alt=\"poster\" />\n              </div>\n          )}\n\n          <div className=\"float-start\">\n            <small>Rating: {movie.mpaa_rating}</small>\n          </div>\n\n          \n          <div className=\"float-end\">\n            {movie.genres.map((m, index) => (\n              <span className=\"badge bg-secondary me-1\" key={index}>\n                {m}\n              </span>\n            ))}\n          </div>\n          <div className=\"clearfix\"></div>\n\n          <hr />\n\n          <table className=\"table table-compact table-striped\">\n            <thead></thead>\n            <tbody>\n              <tr>\n                <td>\n                  <strong>Title:</strong>\n                </td>\n                <td>{movie.title}</td>\n              </tr>\n              <tr>\n                <td>\n                  <strong>Description:</strong>\n                </td>\n                <td>{movie.description}</td>\n              </tr>\n              <tr>\n                <td>\n                  <strong>Run time:</strong>\n                </td>\n                <td>{movie.runtime} minutes</td>\n              </tr>\n            </tbody>\n          </table>\n        </Fragment>\n      );\n    }\n  }\n}\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction MoviesFunc(props) {\r\n\r\n    const [movies, setMovies] = useState([]);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    useEffect (()  => {\r\n        fetch(`${process.env.REACT_APP_API_URL}/movies`)\r\n        .then((response) => {\r\n          if (response.status !== 200) {\r\n            setError(\"invalid response code: \", response.status);\r\n          } else {\r\n            setError(null);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((json) => {\r\n            setMovies(json.movies);\r\n        });       \r\n    }, []); // *** must set default value\r\n\r\n    if (error !== null) {\r\n        return <div>Error: {error.message}</div>\r\n    } else {\r\n        return (\r\n            <Fragment>\r\n            <h2>Choose a movie</h2>\r\n            <hr />\r\n            <div className=\"list-group\">\r\n              {movies.map((m) => (\r\n                <Link\r\n                  key={m.id}\r\n                  className=\"list-group-item list-group-item-action\"\r\n                  to={`/movies/${m.id}`}\r\n                >\r\n                  {m.title}\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MoviesFunc;","import React, { useState, useEffect, Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction GenresFunc(props) {\r\n    const [genres, setGenres] = useState([]);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        fetch(`${process.env.REACT_APP_API_URL}/genres`)\r\n        .then((response) => {\r\n          if (response.status !== 200) {\r\n            setError(\"invalid response status: \", response.status)\r\n          } else {\r\n            setError(null);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((json) => {\r\n            setGenres(json.genres);\r\n        });\r\n    }, []);\r\n\r\n    if (error !== null) {\r\n        return <div>Error: {error.message}</div>\r\n    } else {\r\n        return (\r\n            <Fragment>\r\n            <h2>Genres</h2>\r\n  \r\n            <div className=\"list-group\">\r\n              {genres.map((m) => (\r\n                <Link\r\n                  key={m.id}\r\n                  className=\"list-group-item list-group-item-action\"\r\n                  to={{\r\n                    pathname: `/genre/${m.id}`,\r\n                    genreName: m.genre_name,\r\n                  }}\r\n                >\r\n                  {m.genre_name}\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GenresFunc;","import React, { useState, useEffect, Fragment } from 'react'\r\n// import { Link } from 'react-router-dom'\r\n\r\nfunction OneMovieFunc(props) {\r\n\r\n    const [movie, setMovie] = useState({});\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetch(`${process.env.REACT_APP_API_URL}/movie/` + props.match.params.id)\r\n            .then((response) => {\r\n                if (response.status !== 200) {\r\n                    setError(\"invalide response\", response.status);\r\n                } else {\r\n                    setError(null);\r\n                }\r\n                return response.json();\r\n            })\r\n            .then((json) => {\r\n                setMovie(json.movie);\r\n            });\r\n    }, [props.match.params.id]);\r\n\r\n    if (movie.genres) {\r\n        movie.genres = Object.values(movie.genres);\r\n    } else {\r\n        movie.genres = [];\r\n    }\r\n\r\n    if (error !== null) {\r\n        return <div>Error: {error.message}</div>\r\n    } else {\r\n        return (\r\n            <Fragment>\r\n                <h2>\r\n                    Movie: {movie.title} ({movie.year})\r\n                </h2>\r\n\r\n                <div className=\"float-start\">\r\n                    <small>Rating: {movie.mpaa_rating}</small>\r\n                </div>\r\n                <div className=\"float-end\">\r\n                    {movie.genres.map((m, index) => (\r\n                        <span className=\"badge bg-secondary me-1\" key={index}>\r\n                            {m}\r\n                        </span>\r\n                    ))}\r\n                </div>\r\n                <div className=\"clearfix\"></div>\r\n\r\n                <hr />\r\n\r\n                <table className=\"table table-compact table-striped\">\r\n                    <thead></thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>\r\n                                <strong>Title:</strong>\r\n                            </td>\r\n                            <td>{movie.title}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><strong>Description:</strong></td>\r\n                            <td>{movie.description}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <strong>Run time:</strong>\r\n                            </td>\r\n                            <td>{movie.runtime} minutes</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OneMovieFunc;","import React, { useState, useEffect, Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction OneGenreFunc(props) {\r\n    let [movies, setMovies] = useState([]);\r\n    const [error, setError] = useState(null);\r\n    let [genreName, setGenreName] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        fetch(`${process.env.REACT_APP_API_URL}/movies/` + props.match.params.id)\r\n        .then((response) => {\r\n          if (response.status !== 200) {\r\n            setError(\"invalid response code\", response.error);\r\n          } else {\r\n            setError(null);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((json) => {\r\n            setGenreName(props.location.genreName);\r\n            setMovies(json.movies);\r\n        });\r\n    }, [props.match.params.id, props.location.genreName]);\r\n\r\n\r\n    if (!movies) {\r\n        movies = [];\r\n    }\r\n    \r\n    if (error !== null) {\r\n        return <div>Error: {error.message}</div>\r\n    } else {\r\n        return (\r\n            <Fragment>\r\n            <h2>Genre: {genreName}</h2>\r\n  \r\n            <div className=\"list-group\">\r\n              {movies.map((m) => (\r\n                <Link\r\n                  key={m.id}\r\n                  to={`/movies/${m.id}`}\r\n                  className=\"list-group-item list-group-item-action\"\r\n                >\r\n                  {m.title}\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default OneGenreFunc;","const Select = (props) => {\n  return (\n    <div className=\"mb-3\">\n      <label htmlFor={props.name} className=\"form-label\">\n        {\" \"}\n        {props.title}{\" \"}\n      </label>\n      <select\n        className=\"form-select\"\n        name={props.name}\n        value={props.value}\n        onChange={props.handleChange}\n      >\n          <option value=\"\">{props.placeholder}</option>\n          {props.options.map((option) => {\n              return (\n                  <option\n                    className=\"form-select\"\n                    key={option.id}\n                    value={option.id}\n                    label={option.value}\n                    >\n                        {option.value}\n                    </option>\n              )\n          })}\n      </select>\n    </div>\n  );\n};\n\nexport default Select;\n","const TextArea = (props) => {\n    return (\n      <div className=\"mb-3\">\n        <label htmlFor=\"description\" className=\"form-label\">\n          {props.title}\n        </label>\n        <textarea\n          className=\"form-control\"\n          id={props.name}\n          name={props.name}\n          value={props.value}\n          onChange={props.handleChange}\n          rows={props.rows}\n        />\n      </div>\n    );\n  };\n  \n  export default TextArea;\n  ","const Alert = (props) => {\n    return(\n        <div className={`alert ${props.alertType}`} role=\"alert\">\n        {props.alertMessage}\n        </div>\n    );\n}\n\nexport default Alert;","import React, { useState, useEffect, Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./EditMovie.css\";\r\nimport Input from \"./form-components/Input\";\r\nimport Select from \"./form-components/Select\";\r\nimport TextArea from \"./form-components/TextArea\";\r\nimport Alert from \"./ui-components/Alert\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\r\n\r\nfunction EditMovieFunc(props) {\r\n  var [movie, setMovie] = useState({ \"id\": 0, \"title\": \"\", \"release_date\": \"\", \"runtime\":\"\", \"mpaa_rating\": \"Choose...\", \"rating\": \"\", \"description\":\"\",});\r\n  const [error, setError] = useState(null);\r\n  const [errors, setErrors] = useState([]);\r\n  const [alert, setAlert] = useState({ type: \"d-none\", message: \"\" });\r\n  const mpaaOptions = [\r\n    { id: \"G\", value: \"G\" },\r\n    { id: \"PG\", value: \"PG\" },\r\n    { id: \"PG13\", value: \"PG13\" },\r\n    { id: \"R\", value: \"R\" },\r\n    { id: \"NC17\", value: \"NC17\" },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (props.jwt === \"\") {\r\n      props.history.push({\r\n        pathname: \"/login\",\r\n      });\r\n      return;\r\n    }\r\n    const id = props.match.params.id;\r\n    if (id > 0) {\r\n      fetch(`${process.env.REACT_APP_API_URL}/movie/` + id)\r\n        .then((response) => {\r\n          if (response.status !== 200) {\r\n            setError(\"invalide response\", response.status);\r\n          } else {\r\n            setError(null);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((json) => {\r\n          const releaseDate = new Date(json.movie.release_date);\r\n          json.movie.release_date = releaseDate.toISOString().split(\"T\")[0];\r\n          setMovie(json.movie);\r\n        });\r\n    }\r\n  }, [props.history, props.match.params.id, props.jwt]);\r\n\r\n  const handleChange = () => (evt) => {\r\n    let value = evt.target.value;\r\n    let name = evt.target.name;\r\n    setMovie({\r\n      ...movie,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    // do validation\r\n    let errors = [];\r\n    if (movie.title === \"\") {\r\n      errors.push(\"title\");\r\n    }\r\n\r\n    setErrors(errors);\r\n\r\n    if (errors.length > 0) {\r\n      return false;\r\n    }\r\n\r\n    // we passed, so post info\r\n    const data = new FormData(evt.target);\r\n    const payload = Object.fromEntries(data.entries());\r\n\r\n    // console.log(data.entries());\r\n\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + props.jwt);\r\n\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      body: JSON.stringify(payload),\r\n      headers: myHeaders,\r\n    };\r\n\r\n    fetch(`${process.env.REACT_APP_API_URL}/admin/editmovie`, requestOptions)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setAlert({\r\n            alert: { type: \"alert-danger\", message: data.error.message },\r\n          })\r\n\r\n        } else {\r\n          props.history.push({\r\n            pathname: \"/admin\",\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  const confirmDelete = (e) => {\r\n    // console.log(\"would delete id\", movie.id);\r\n\r\n    confirmAlert({\r\n      title: \"Delete Movie?\",\r\n      message: \"Are you sure?\",\r\n      buttons: [\r\n        {\r\n          label: \"Yes\",\r\n          onClick: () => {\r\n            // delete the movie\r\n            const myHeaders = new Headers();\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            myHeaders.append(\"Authorization\", \"Bearer \" + props.jwt);\r\n\r\n            fetch(\r\n              `${process.env.REACT_APP_API_URL}/admin/deletemovie/` +\r\n              movie.id,\r\n              {\r\n                method: \"GET\",\r\n                headers: myHeaders,\r\n              }\r\n            )\r\n              .then((response) => response.json)\r\n              .then((data) => {\r\n                if (data.error) {\r\n                  setAlert({ type: \"alert-danger\", message: data.error.message });\r\n                } else {\r\n                  setAlert({ type: \"alert-success\", message: \"Movie deleted!\" });\r\n                  props.history.push({\r\n                    pathname: \"/admin\",\r\n                  });\r\n                }\r\n              });\r\n          },\r\n        },\r\n        {\r\n          label: \"No\",\r\n          onClick: () => { },\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  function hasError(key) {\r\n    return errors.indexOf(key) !== -1;\r\n  };\r\n\r\n  if (error !== null) {\r\n    return <div>Error: {error.message}</div>\r\n  } else {\r\n    return (\r\n      <Fragment>\r\n        <h2>Add/Edit Movie</h2>\r\n        <Alert\r\n          alertType={alert.type}\r\n          alertMessage={alert.message}\r\n        />\r\n        <hr />\r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"id\"\r\n            id=\"id\"\r\n            value={movie.id}\r\n            onChange={handleChange(\"id\")}\r\n          />\r\n          <Input\r\n            title={\"Title\"}\r\n            className={hasError(\"title\") ? \"is-invalid\" : \"\"}\r\n            type={\"text\"}\r\n            name={\"title\"}\r\n            value={movie.title}\r\n            handleChange={handleChange(\"title\")}\r\n            errorDiv={hasError(\"title\") ? \"text-danger\" : \"d-none\"}\r\n            errorMsg={\"Please enter a title\"}\r\n          />\r\n\r\n          <Input\r\n            title={\"Release Date\"}\r\n            type={\"date\"}\r\n            name={\"release_date\"}\r\n            value={movie.release_date}\r\n            handleChange={handleChange(\"release_date\")}\r\n          />\r\n\r\n          <Input\r\n            title={\"Runtime\"}\r\n            type={\"text\"}\r\n            name={\"runtime\"}\r\n            value={movie.runtime}\r\n            handleChange={handleChange(\"runtime\")}\r\n          />\r\n\r\n          <Select\r\n            title={\"MPAA Rating\"}\r\n            name={\"mpaa_rating\"}\r\n            options={mpaaOptions}\r\n            value={movie.mpaa_rating}\r\n            handleChange={handleChange(\"mpaa_rating\")}\r\n            placeholder=\"Choose...\"\r\n          />\r\n\r\n          <Input\r\n            title={\"Rating\"}\r\n            type={\"text\"}\r\n            name={\"rating\"}\r\n            value={movie.rating}\r\n            handleChange={handleChange(\"rating\")}\r\n          />\r\n\r\n          <TextArea\r\n            title={\"Description\"}\r\n            name={\"description\"}\r\n            value={movie.description}\r\n            rows={\"3\"}\r\n            handleChange={handleChange(\"description\")}\r\n          />\r\n\r\n          <hr />\r\n\r\n          <button className=\"btn btn-primary\">Save</button>\r\n          <Link to=\"/admin\" className=\"btn btn-warning ms-1\">\r\n            Cancel\r\n          </Link>\r\n          {movie.id > 0 && (\r\n            <a\r\n              href=\"#!\"\r\n              onClick={() => confirmDelete()}\r\n              className=\"btn btn-danger ms-1\"\r\n            >\r\n              Delete\r\n            </a>\r\n          )}\r\n        </form>\r\n        {/* <div className=\"mt-3\">\r\n          <pre>{JSON.stringify(movie, null, 3)}</pre>\r\n        </div> */}\r\n      </Fragment>\r\n    )\r\n\r\n  }\r\n}\r\n\r\nexport default EditMovieFunc;","import React, { useState, useEffect, Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction AdminFunc(props) {\r\n\r\n    const [movies,setMovies] = useState([]);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (props.jwt === \"\") {\r\n            props.history.push({\r\n              pathname: \"/login\",\r\n            });\r\n            return;\r\n          }       \r\n          fetch(`${process.env.REACT_APP_API_URL}/movies`)\r\n          .then((response) => {\r\n            if (response.status !== 200) {\r\n                setError(\"invalide response\", response.status);\r\n            } else {\r\n                setError(null);\r\n            }    \r\n            return response.json();\r\n          })\r\n          .then((json) => {\r\n            setMovies(json.movies);\r\n\r\n          });\r\n\r\n    }, [props.jwt, props.history])\r\n\r\n    if (error !== null) {\r\n        return <div>Error: {error.message}</div>\r\n      } else {\r\n        return (\r\n            <Fragment>\r\n            <h2>Manage Catalogue</h2>\r\n            <hr />\r\n            <div className=\"list-group\">\r\n              {movies.map((m) => (\r\n                <Link\r\n                  key={m.id}\r\n                  className=\"list-group-item list-group-item-action\"\r\n                  to={`/admin/movie/${m.id}`}\r\n                >\r\n                  {m.title}\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </Fragment>           \r\n        )\r\n      }\r\n\r\n}\r\n\r\nexport default AdminFunc;\r\n\r\n","export default __webpack_public_path__ + \"static/media/nice_photo.81b356c7.jpeg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Ticket from \"./../images/nice_photo.jpeg\";\r\n\r\nfunction HomeFunc(props) {\r\n    return (\r\n        <div className=\"text-center\">\r\n        <h2>Find a movie to watch tonight!</h2>\r\n        <hr />\r\n        <Link to=\"/movies\">\r\n        <img className=\"img-fluid\" src={Ticket} alt=\"movie ticket\" />\r\n        </Link>\r\n        </div>\r\n        \r\n    );    \r\n}\r\n\r\nexport default HomeFunc;","import React, { useState, Fragment } from 'react';\r\nimport Input from \"./form-components/Input\";\r\nimport Alert from \"./ui-components/Alert\";\r\n\r\nfunction LoginFunc(props) {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [errors, setErrors] = useState([]);\r\n    const [alert, setAlert] = useState({type: \"d-none\", message: \"\"});\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        if(email === \"\") {\r\n            errors.push(\"email\");\r\n        }\r\n\r\n        if(password === \"\") {\r\n            errors.push(\"password\");\r\n        }\r\n\r\n        setErrors(errors);\r\n\r\n        if (errors.length > 0) {\r\n            return false;\r\n        }\r\n\r\n        const data = new FormData(evt.target);\r\n        const payload = Object.fromEntries(data.entries());\r\n    \r\n        const requestOptions = {\r\n            method: \"POST\",\r\n            body: JSON.stringify(payload),\r\n        }\r\n    \r\n        fetch(`${process.env.REACT_APP_API_URL}/signin`, requestOptions)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            if (data.error) {\r\n                setAlert({type: \"alert-danger\", message: \"Invalid login\"});\r\n                } else {\r\n                    handleJWTChange(Object.values(data)[0]);\r\n                    window.localStorage.setItem(\"jwt\", JSON.stringify(Object.values(data)[0]));\r\n                    props.history.push({\r\n                    pathname: \"/admin\",\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    function handleJWTChange(jwt) {\r\n        props.handleJWTChange(jwt);\r\n    }\r\n\r\n    function hasError(key) {\r\n        return errors.indexOf(key) !== -1;\r\n      }  \r\n\r\n     function handleEmail(evt) {\r\n        setEmail(evt.target.value);\r\n     }\r\n     function handlePassword(evt) {\r\n        setPassword(evt.target.value);\r\n    }     \r\n\r\n    return(\r\n        <Fragment>\r\n        <h2>Login</h2>\r\n        <hr />\r\n        <Alert\r\n          alertType={alert.type}\r\n          alertMessage={alert.message}\r\n        />\r\n\r\n        <form className=\"pt-3\" onSubmit={handleSubmit}>\r\n          <Input\r\n            title={\"Email\"}\r\n            type={\"email\"}\r\n            name={\"email\"}\r\n            handleChange={handleEmail}\r\n            className={hasError(\"email\") ? \"is-invalid\" : \"\"}\r\n            errorDiv={hasError(\"email\") ? \"text-danger\" : \"d-none\"}\r\n            errorMsg={\"Please enter a valid email address\"}\r\n          />\r\n\r\n          <Input\r\n            title={\"Password\"}\r\n            type={\"current-password\"}\r\n            name={\"password\"}\r\n            handleChange={handlePassword}\r\n            className={hasError(\"password\") ? \"is-invalid\" : \"\"}\r\n            errorDiv={hasError(\"password\") ? \"text-danger\" : \"d-none\"}\r\n            errorMsg={\"Please enter a password\"}\r\n          />\r\n\r\n          <hr />\r\n          <button className=\"btn btn-primary\">Login</button>\r\n        </form>\r\n      </Fragment>       \r\n    )\r\n\r\n}\r\n\r\nexport default LoginFunc;","import React, { useState, useEffect, Fragment } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\n\r\nimport GraphQL from \"./components/GraphQL\";\r\nimport OneMovieGraphQL from \"./components/OneMovieGraphQL\";\r\nimport MoviesFunc from \"./components/MoviesFunc\";\r\nimport GenresFunc from \"./components/GenresFunc\";\r\nimport OneMovieFunc from \"./components/OneMovieFunc\";\r\nimport OneGenreFunc from \"./components/OneGenreFunc\";\r\nimport EditMovieFunc from \"./components/EditMovieFunc\";\r\nimport AdminFunc from \"./components/AdminFunc\";\r\nimport HomeFunc from \"./components/HomeFunc\";\r\nimport LoginFunc from \"./components/LoginFunc\";\r\n\r\n\r\nexport default function AppFunc(props) {\r\n    const [jwt,setJWT] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        let t = window.localStorage.getItem(\"jwt\");\r\n        if (t) {\r\n          if (jwt === \"\") {\r\n            setJWT({jwt: JSON.parse(t)});\r\n          }\r\n        }       \r\n    }, [jwt])\r\n\r\n    function handleJWTChange(jwt){\r\n        setJWT(jwt);      \r\n    }\r\n\r\n    function logout(){\r\n        setJWT(\"\");\r\n        window.localStorage.removeItem(\"jwt\");\r\n    };   \r\n\r\n    let loginLink;\r\n    if (jwt === \"\") {\r\n      loginLink = <Link to=\"/login\">Login</Link>;\r\n    } else {\r\n      loginLink = (\r\n        <Link to=\"/logout\" onClick={logout}>\r\n          Logout\r\n        </Link>\r\n      );\r\n    }    \r\n    return (\r\n        <Router>\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col mt-3\">\r\n              <h1 className=\"mt-3\">Test application!</h1>\r\n            </div>\r\n            <div className=\"col mt-3 text-end\">{loginLink}</div>\r\n            <hr className=\"mb-3\"></hr>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col-md-2\">\r\n              <nav>\r\n                <ul className=\"list-group\">\r\n                  <li className=\"list-group-item\">\r\n                    <Link to=\"/\">Home</Link>\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <Link to=\"/movies\">Movies</Link>\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <Link to=\"/genres\">Genres</Link>\r\n                  </li>\r\n                  {jwt !== \"\" && (\r\n                    <Fragment>\r\n                      <li className=\"list-group-item\">\r\n                        <Link to=\"/admin/movie/0\">Add movie</Link>\r\n                      </li>\r\n                      <li className=\"list-group-item\">\r\n                        <Link to=\"/admin\">Manage Catalogue</Link>\r\n                      </li>\r\n                    </Fragment>\r\n                  )}\r\n                  <li className=\"list-group-item\">\r\n                    <Link to=\"/graphql\">GraphQL</Link>\r\n                  </li>\r\n                </ul>\r\n              </nav>\r\n            </div>\r\n\r\n            <div className=\"col-md-10\">\r\n              <Switch>\r\n                <Route path=\"/movies/:id\" component={OneMovieFunc} />\r\n                <Route path=\"/moviesgraphql/:id\" component={OneMovieGraphQL} />\r\n\r\n                <Route path=\"/movies\">\r\n                  <MoviesFunc />\r\n                </Route>\r\n\r\n                <Route path=\"/genre/:id\" component={OneGenreFunc} />\r\n\r\n                <Route\r\n                  exact\r\n                  path=\"/login\"\r\n                  component={(props) => (\r\n                    <LoginFunc {...props} handleJWTChange={handleJWTChange} />\r\n                  )}\r\n                />\r\n\r\n                <Route exact path=\"/genres\">\r\n                  <GenresFunc/>\r\n                </Route>\r\n\r\n                <Route exact path=\"/graphql\">\r\n                  <GraphQL />\r\n                </Route>\r\n\r\n                <Route\r\n                  path=\"/admin/movie/:id\"\r\n                  component={(props) => (\r\n                    <EditMovieFunc {...props} jwt={jwt}/>\r\n                  )}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/admin\"\r\n                  component={(props) => (\r\n                    <AdminFunc {...props} jwt={jwt}/>\r\n                  )}\r\n                />\r\n\r\n                <Route path=\"/\">\r\n                  <HomeFunc />\r\n                </Route>\r\n              </Switch>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Router>\r\n    );       \r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n// import App from './App';\nimport AppFunc from './AppFunc'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppFunc />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}